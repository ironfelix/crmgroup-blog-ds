# Редизайн хаба блога CRM-Group: рекомендации

## 1. Было / Стало

### Шапка (Header)
- **Было:** Белый хедер с чёрным текстом, высота 82px, логотип как CSS background-image, ссылки меню шрифтом TTRuns
- **Стало:** Тёмный sticky-хедер 64px, компактнее, логотип текстовый (Inter), фиксация при скролле с мягкой тенью. Цветовая рамка совпадает со статьями (тёмный хедер + тёмный футер = единый стиль)

### Hero-секция
- **Было:** Swiper-карусель (new_article) с двухколоночным layout: текст слева, картинка справа (405px). Фон `#f2f2f2`, border-radius 12px. Заголовок TTRuns-600 50px. Навигационные стрелки свайпера
- **Стало:** Статичный блок с крупным заголовком "Экспертиза в CRM-маркетинге" (42px Inter 700) + подзаголовок. Под ним -- выделенная карточка последней статьи (CVM-гайд) в виде горизонтальной карточки с изображением, категорией-пилом, заголовком, отрывком, датой и CTA. Отказ от карусели в пользу стабильного, предсказуемого контента

### Фильтр категорий
- **Было:** Вертикальный sidebar слева (200px), список ссылок с font-size 16px, цвет `#595959`, активная -- чёрная жирная. Занимает полезное пространство, на мобилке сжимается в горизонтальный список
- **Стало:** Горизонтальная панель pill-кнопок, sticky (прилипает под хедером при скролле). Каждая кнопка с количеством статей. Active-состояние -- залитая чёрным кнопка. Overflow scroll на мобилке. Экономия ширины для карточек

### Сетка статей
- **Было:** 3-колоночная flex-обёртка (.materials), gap 32px. Карточки без фона, с hover-бордером красного цвета (#FD3939). Заголовок TTRuns-600 18px. Метаданные скудные: только дата. Ссылка "Читать" с красной стрелкой
- **Стало:** 3-колоночный CSS Grid, gap 32px. Карточки с белым фоном, border-radius 12px, мягкая тень. Hover: подъём на 3px + усиление тени. Категория-лейбл (11px uppercase, цвет акцента). Заголовок Inter 700 18px. Отрывок 13px (3 строки clamp). Футер карточки с датой и временем чтения (иконка часов). Вся карточка -- ссылка (лучше для мобильного тапа)

### Список старых статей
- **Было:** Те же карточки в три колонки, одинаковый вес для всех статей вне зависимости от даты
- **Стало:** Новая секция "Ранее в блоге" -- компактный список (title + excerpt + дата). Экономит вертикальное пространство, позволяет показать больше материалов. Hover с красноватым фоном и смещением

### Подписка (Newsletter)
- **Было:** Форма в конце статьи (block-form) на `#f7f5f0` фоне. На хабе отсутствовала
- **Стало:** Выделенный блок на чёрном фоне (#1a1a1a) с двухколоночным layout: текст слева, форма справа. Лейбл акцентного цвета, описание с пояснением частоты рассылки. Чекбокс согласия

### Пагинация
- **Было:** Flex-ряд с числами 40x40, border-radius 4px. Активная -- чёрная заливка. Минимальные отступы
- **Стало:** Те же числа, но border-radius 8px, стрелки-навигации (prev/next) с SVG-иконками, aria-label для доступности. Более щедрые отступы сверху и снизу

### Футер
- **Было:** Простая строка на `#1a1a1a` с копирайтом по центру
- **Стало:** Трёхчастная строка: логотип | ссылки навигации + соцсети | копирайт. Тот же тёмный фон, но информативнее

---

## 2. Список улучшений

1. **Единый шрифт Inter** -- полная унификация с дизайн-системой статей. Кириллица отрисована качественно (Latin Extended + Cyrillic в одном woff2). Убраны TTRuns/TTSmalls
2. **Цвет акцента #c01020 вместо #FD3939** -- DS-токен, лучший контраст (WCAG AA 7.2:1 на белом). Hover: #a80e1b
3. **Отказ от карусели** -- карусели на хабе блога снижают видимость контента (Nielsen Norman: пользователи пропускают автоматические слайды). Заменена на стабильную featured-карточку
4. **Горизонтальный фильтр категорий** -- вертикальный sidebar отнимал 200px + gap у контента. Горизонтальные pill-кнопки sticky под хедером -- быстрее доступ, видимость количества статей
5. **Карточки как блочные ссылки** -- вся карточка кликабельна (лучше для тач-устройств, больше hit area). Hover: подъём тенью вместо красного бордера
6. **Двухуровневый layout** -- свежие статьи в Grid-карточках, старые в компактном списке. Показывает больше контента, создаёт иерархию
7. **Время чтения** -- добавлено к каждой карточке (readtime). Помогает пользователю оценить объём материала перед кликом
8. **Лейбл категории на каждой карточке** -- цветной pill с названием рубрики. Улучшает сканируемость
9. **Блок подписки на хабе** -- сейчас есть только на статьях. На хабе -- точка конверсии для тех, кто ещё не готов читать, но хочет подписаться
10. **Sticky header** -- компактный, не мешает контенту (64px vs 82px). Тень при скролле = визуальное разделение
11. **Breadcrumbs** -- добавлены для SEO и навигации (schema.org BreadcrumbList)
12. **Доступность** -- aria-label на навигациях, aria-current на активных элементах, focus-visible стили, prefers-reduced-motion
13. **Print styles** -- скрытие навигации и CTA при печати
14. **Мобильная адаптация** -- на 768px карточки перестраиваются в горизонтальный layout (картинка слева, текст справа). На 480px -- 16px боковые отступы (как уже сделано для статей)

---

## 3. Типографика (Cyrillic-специфика)

### Типографическая шкала (modular scale 1.200, minor third)

| Элемент | Размер | Вес | Высота строки | Трекинг | Примечание |
|---------|--------|-----|---------------|---------|------------|
| Hero H1 | 42px | 700 | 1.2 | -0.03em | Крупный заголовок страницы |
| Featured H2 | 26px | 700 | 1.32 | -0.02em | Заголовок выделенной статьи |
| Card H3 | 18px | 700 | 1.32 | -0.02em | Заголовок карточки (clamp 3 строки) |
| List title | 16px | 600 | 1.32 | 0 | Компактный список |
| Body/excerpt | 15px | 400 | 1.58 | 0 | Отрывок статьи |
| Small excerpt | 13px | 400 | 1.58 | 0 | Описание в карточке |
| Meta/date | 12px | 400 | 1.5 | 0.02em | Дата, время чтения |
| Category label | 11px | 600 | 1 | 0.08em | Uppercase, акцентный цвет |
| Caption/consent | 11px | 400 | 1.5 | 0 | Мелкий текст |

### Решения для кириллицы

1. **Line-height 1.58 (не 1.5)** для body-текста -- кириллические буквы выше латинских (б, д, ф), нужно больше interline. При 15px базовом это даёт 23.7px leading -- комфортная цифра

2. **Letter-spacing -0.02em для заголовков** -- Inter при крупных размерах (26px+) с кириллицей выглядит разреженно. Отрицательный трекинг компенсирует это

3. **Letter-spacing 0.08em для uppercase** -- маленькие uppercase-лейблы (11px) в кириллице сливаются без дополнительного трекинга. 0.08em обеспечивает читаемость

4. **Font-feature-settings: cv01, cv02** -- стилистические наборы Inter для более различимых символов (l vs 1, 0 vs O)

5. **Ширина строки** -- max-width карточки ~300px при 15px шрифте = ~45-50 символов на строку (оптимум для кириллицы 45-75 символов). В featured-блоке ~60 символов

6. **Antialiasing** -- `-webkit-font-smoothing: antialiased` обязателен для Inter на macOS, иначе полужирные кириллические глифы выглядят "раздутыми"

7. **Вес 600 vs 700** -- для заголовков кириллицей Inter 600 (SemiBold) недостаточно контрастен на белом фоне. Используем 700 (Bold) для всех заголовков, 600 только для полужирных лейблов

8. **Clamp для заголовков** -- кириллические слова длиннее латинских (~15-20%), поэтому -webkit-line-clamp: 3 для карточек, чтобы длинные заголовки не ломали layout

---

## 4. Что не хватает для UX

1. **Поиск по блогу** -- при 51 статье текстовый поиск уже актуален. Минимально: фильтрация по заголовку на клиенте. Идеально: серверный search с подсветкой
2. **Тег автора** -- в карточках нет автора, хотя данные есть. Помогает строить доверие к экспертизе. Формат: "Автор: Имя Фамилия" в метаданных карточки
3. **Estimated reading time** -- есть в редизайне, отсутствует в текущей версии. Требует вычисления при публикации
4. **Related articles** -- блок "Читайте также" на хабе (based on category). Увеличивает глубину просмотра
5. **Популярные статьи** -- sidebar или отдельная секция с top-5 по просмотрам. Помогает новым посетителям
6. **Формат контента (тег)** -- гайд / кейс / чеклист / перевод / интервью. Помогает понять формат до клика
7. **Прогресс-бар чтения** -- уже есть на статьях, можно добавить визуальный индикатор "прочитано" в карточки (cookie-based)
8. **Skeleton loading** -- при JS-фильтрации по категориям нужен placeholder, чтобы не мигал контент
9. **Бесконечный скролл vs пагинация** -- при 51 статье пагинация по 9 = 6 страниц. "Показать ещё" кнопка может быть удобнее
10. **Dark mode** -- Inter и цветовая схема позволяют переключение на тёмную тему через CSS custom properties

---

## 5. Что не хватает для SEO

1. **Structured data (JSON-LD)** -- сейчас есть CollectionPage и BreadcrumbList. Не хватает:
   - `ItemList` с перечислением статей (Google может показать в расширенных сниппетах)
   - `BlogPosting` для каждой карточки (title, datePublished, author, image)
   - `Organization` publisher
2. **Meta description** -- текущее "Статьи про CRM-маркетинг, email-рассылки и мессенджер-маркетинг" -- слишком короткое. Нужно 120-155 символов с ключевыми словами
3. **Canonical URL** -- есть, но нужно проверить что пагинированные страницы (/blog/page/2/) имеют правильный `rel="next"` / `rel="prev"`
4. **Open Graph** -- og:image отсутствует для хаба блога (используется общий opg.png). Нужна уникальная OG-картинка
5. **Hreflang** -- если планируется многоязычность (сейчас только ru)
6. **Image alt-text** -- в текущей версии alt-тексты часто пустые или генерические. Нужны описательные alt для превью статей
7. **Internal linking density** -- на хабе нет ссылок на основные услуги/кейсы. Контекстуальные CTA ("Нужна CRM-стратегия? Смотрите кейсы") увеличивают pagerank внутренних страниц
8. **Heading hierarchy** -- H1 "Блог" слишком общий. "Блог о CRM-маркетинге" или "Экспертиза в CRM-маркетинге" -- лучше для SEO
9. **URL structure** -- `/blog/page/2/` хорошо. Но фильтрация по категориям (`/blog/category/crm_marketing/`) должна быть индексируемой (сейчас, скорее всего, JS-фильтр без URL)
10. **Core Web Vitals** -- Swiper.js на hero добавляет JS-вес. Статический featured-блок быстрее (LCP), нет CLS от смены слайдов
11. **Sitemap** -- проверить что /blog/ и все статьи включены в XML-sitemap с правильными lastmod
12. **FAQ schema** -- если добавить FAQ-блок на хаб ("Что такое CRM-маркетинг?", "Зачем нужна CRM-стратегия?"), можно получить расширенный сниппет

---

## 6. Приоритеты реализации

### P0 -- Критично (делать сейчас, реализуемо через wp-custom.css)

| # | Задача | Сложность | Влияние |
|---|--------|-----------|---------|
| P0.1 | Шрифт Inter на хабе (уже сделано в wp-custom.css, блок P0.2) | Готово | Визуальное единство с DS |
| P0.2 | Цвет #c01020 вместо #FD3939 на хабе (hover карточек, кнопки) | CSS only | DS-единство |
| P0.3 | Pill-фильтры категорий (горизонтальные, sticky) | CSS + минимальный JS | Экономия пространства, доступность |
| P0.4 | Карточки с белым фоном, тенью, hover-подъёмом | CSS only | Визуальное качество |
| P0.5 | Лейбл категории на каждой карточке | CSS only (элемент уже есть?) | Сканируемость |

### P1 -- Важно (следующая итерация)

| # | Задача | Сложность | Влияние |
|---|--------|-----------|---------|
| P1.1 | Замена Swiper на статический featured-блок | PHP template edit | LCP, CLS, стабильность |
| P1.2 | Добавить время чтения (readtime) в карточки | PHP + custom field | UX метрика для решения о клике |
| P1.3 | Newsletter-блок на хабе | WP widget / shortcode | Конверсия подписчиков |
| P1.4 | Breadcrumbs с schema.org | PHP + JSON-LD | SEO |
| P1.5 | Двухуровневый layout (карточки + компактный список) | PHP template | Показ большего объёма контента |
| P1.6 | Мобильная адаптация: горизонтальные карточки на <768px | CSS only | Mobile UX |

### P2 -- Желательно (backlog)

| # | Задача | Сложность | Влияние |
|---|--------|-----------|---------|
| P2.1 | Поиск по блогу | JS + WP REST API | UX при 50+ статьях |
| P2.2 | Structured data ItemList + BlogPosting | PHP + JSON-LD | SEO расширенные сниппеты |
| P2.3 | Индексируемые URL для категорий (/blog/category/...) | PHP routing | SEO, глубокие ссылки |
| P2.4 | Автор в карточке | PHP template + CSS | Доверие, E-E-A-T |
| P2.5 | Тег формата (гайд / кейс / чеклист) | WP taxonomy + CSS | Понимание формата до клика |
| P2.6 | "Показать ещё" вместо пагинации | JS + WP REST API | UX, глубина просмотра |
| P2.7 | Dark mode | CSS custom properties | Современный UX |
| P2.8 | FAQ-секция с schema.org | WP content + JSON-LD | SEO расширенный сниппет |

---

## Примечания по реализации через wp-custom.css

Большинство P0-задач реализуемы **исключительно через CSS** без изменений PHP-шаблонов:

- **P0.2** -- `#blog .material:hover::before { border-color: #c01020 }` и аналогичные замены var(--color-accent-red)
- **P0.3** -- переопределение `.articles-categories__list` на `flex-direction: row`, добавление sticky позиционирования
- **P0.4** -- `.material { background: #fff; border-radius: 12px; box-shadow: ... }` + hover transition
- **P0.5** -- `.material__category` уже может существовать в DOM -- нужно проверить через DevTools

Для P1+ потребуется доступ к PHP-шаблонам темы `content_hub`:
- `template-parts/blog/content-blog.php` -- шаблон карточки
- `template-parts/blog/content-new-article.php` -- hero swiper
- `archive-blog.php` или `taxonomy-*.php` -- основной шаблон хаба

Рекомендую провести аудит PHP-шаблонов перед реализацией P1.
